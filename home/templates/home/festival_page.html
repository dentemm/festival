{% extends 'base.html' %}

{% load rating_tags static compress comments custom_comments wagtailuserbar widget_tweaks %}

{% block extra_css %}
    {# Override this in templates to add extra stylesheets #}
    	{% compress css %}
	    <!-- OWL CAROUSEL -->
	    <link rel="stylesheet" type="text/css" href="{% static 'plugins/owl-carousel/owl.carousel.css' %}">
	    <link rel="stylesheet" type="text/css" href="{% static 'plugins/owl-carousel/owl.theme.css' %}">
	    <link rel="stylesheet" type="text/css" href="{% static 'plugins/owl-carousel/owl.transitions.css' %}">
	    <!-- LIGHTBOX -->
	    <link rel="stylesheet" type="text/css" href="{% static 'plugins/lightbox/dist/css/lightbox.css' %}">
	    <!-- ICONS -->
	    <link rel="stylesheet" type="text/css" href="{% static 'plugins/icons/et-line-font/style.css' %}">
	   	<!-- ANIMATE.CSS -->
	    <link rel="stylesheet" type="text/css" href="{% static 'plugins/animate.css/animate.css' %}">

	    
	    <!-- CUSTOM CSS -->
	    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
	    <link rel="stylesheet" type="text/css" href="{% static 'css/hovereffects.css' %}">
	    <link rel="stylesheet" type="text/css" href="{% static 'css/festivaladvisor.css' %}">
	    <!-- ??? mijn eigen ratings mss ??? -->
	    <!--<link rel="stylesheet" type="text/css" href="{% static 'ratings/css/ratings.css' %}">-->
	    <link rel="stylesheet" href="{% static 'ratings/css/ratings.css' %}">
		<link rel="stylesheet" href="{% static 'ratings/css/br-themes/fontawesome-stars.css' %}">
	    {% endcompress %}
{% endblock %}

{% block content %}

<div class="container" style="margin-top:94px;">

	<h1>
		{{ page.name }}
	</h1>
	<h5>Hier komt de detail informatie van {{ page.name }}</h5>

	<br>
	<hr>
	<br>

	<h2>COMMENTAAR FUNCTIONALITEIT TEST</h2>
	<h4>Reeds geplaatste comments</h4>
	{% render_comment_list for page %}
	<hr>
	{% if user.is_authenticated %}
	<div class="row">
		<div class="col-md-4">
		{% user_comment user page as has_commented %}
			{% if has_commented == False %}
				{% render_comment_form for page %}
			{% else %}
				Je hebt reeds een beoordeling achter gelaten, bedankt!
			{% endif %}
		</div>
	</div>
	{% else %}
	<div class="row">
		<div class="col-md-6">
			<h4>Enkel ingelogde gebruikers kunnen een beoordeling schrijven!</h4>
		</div>
	</div>
	{% endif %}
	<br>
	<hr>
	<br>

	<h2>RATING FUNCTIONALITEIT TEST</h2>
	<div class="row">
		<div class="col-md-5">
			<h5>Huidige score</h5>
		</div>
	</div>

	{% if user.is_authenticated %}
	<div class="row">
		<div class="col-md-4">
		</div>
	</div>
	{% else %}
	<div class="row">
		<div class="col-md-6">
			<h4>Enkel ingelogde gebruikers kunnen een score geven!</h4>
		</div>
	</div>
	{% endif %}

	<hr>
	{% get_vote_form for page as form %}
		<form action="/ratings/rate/" method="post">
		{% csrf_token %}
		 {% render_field form.score id='example'  %}
		 {{ form.object_id }}
		 {{ form.content_type }}
		 <input type="submit" value="Indienen">
		</form>
		<hr>	

</div>



<hr>



TESTESTESTESTESTSTSETESTSETSETSETS

	<div class="container">
		<div class="row">
			<div class="col-md-12">
				FESTIVAL PAGE RATING tests:
			</div>
			<div class="col-md-6">
				Aantal votes: {% votes_count page as votes_count %}
				{{ votes_count }}
			</div>
			{% if user.is_authenticated %}
			<div class="col-md-6">
				Score van deze user ({{ user }}): {% user_rating user page %}
			</div>
			{% endif %}
			<div class="col-md-6">
				Overall rating: {- overall_rating page -}
			</div>
		</div>
	</div>
	<div class="container">
		FESTIVAL PAGINA: {{ page.name }} {{ page.id }}  ((((((((((( {{ page.contact_person }} )))))))))))

		{% get_comment_count for page as comment_count %}
				<p>{{ comment_count }} comments have been posted.</p>

		{% render_comment_list for page %}

		{% get_comment_list for page as comment_list %}
			{% for comment in comment_list %}
				<p class="text-info">Posted by: {{ comment.user }} on {{ comment.submit_date }}</p>
				<p class="text-danger">Comment: {{ comment.comment }}</p>
			{% endfor %}

		
	</div>
	<div class="container m-y-lg">
		<select id="example">
			<option value="" data-html=""></option>
			<option value="1" data-html="klote">1</option>
			<option value="2" data-html="">2</option>
			<option value="3" data-html="">3</option>
			<option value="4" data-html="">4</option>
			<option value="5" data-html="">5</option>
		</select>
	</div>

{% endblock content %}

{% block extra_js %}
    {# Override this in templates to add extra javascript #}
    	{% compress js %}
	    <!-- OWL CAROUSEL -->
	    <script type="text/javascript" src="{% static 'owl-carousel/owl.carousel.js' %}"></script>
	    <!--JQUERY EASING -->
	    <script type="text/javascript" src="{% static 'js/jquery.easing.min.js' %}"></script>
	    <!-- COUNTTO -->
	    <script type="text/javascript" src="{% static 'plugins/countto/jquery.countto.js' %}"></script>
	    <!-- INVIEW -->
	    <script type="text/javascript" src="{% static 'plugins/inview/jquery.inview.min.js' %}"></script>
	    <!-- LIGHTBOX -->
	    <script type="text/javascript" src="{% static 'plugins/lightbox/dist/js/lightbox.min.js' %}"></script>
	    <!-- WOW -->
	    <script type="text/javascript" src="{% static 'plugins/WOW/dist/wow.min.js' %}"></script>
	    <!-- GOOGLE MAPS -->
	    

	    <!-- CUSTOM SCRIPTS-->
	   	<script type="text/javascript" src="{% static 'kevin/js/custom.js' %}"></script>
	    <script type="text/javascript" src="{% static 'kevin/js/owlcalendar.js' %}"></script>
	    <script type="text/javascript" src="{% static 'tim/js/comments.js' %}"></script>


	    <!-- jQuery Bar Rating -->
	    <script type="text/javascript" src="{% static 'ratings/js/ratings.js' %}"></script>
	    <script type="text/javascript">
			   $(function() {
			      $('#example').barrating({
			        theme: 'fontawesome-stars',
			        initialRating: -1,
			        showSelectedRating: true,

			      });
			   });
		</script>
	    {% endcompress %}
	    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
{% endblock extra_js %}
